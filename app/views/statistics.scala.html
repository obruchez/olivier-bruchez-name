@import models.statistics.{ BarChart, PieChart, Statistics }
@(statistics: Statistics)

@scripts = {
  <script type="text/javascript" src="@routes.Assets.at("plugins/moment.min.js")"></script>
  <script type="text/javascript" src="@routes.Assets.at("plugins/chart.js")"></script>
}

@main(Sitemap.statistics, scripts) {
  <div class="headline"><h2>Books</h2></div>

  @{
    val pieChart = PieChart(
      baseId = "most-read-book-authors",
      title = "Most read authors",
      entityName = "Author",
      valueUnit = "Count",
      statistics.mostReadBookAuthors,
      threshold = Some(2),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val barChart = BarChart(
      baseId = "book-ratings-distribution",
      title = "Book ratings (distribution)",
      datasetLabel = "Count",
      statistics.bookRatingsDistribution)

    views.html.barchartsection(barChart)
  }

  <div class="headline"><h2>Concerts</h2></div>

  @{
    val pieChart = PieChart(
      baseId = "most-seen-concert-artists",
      title = "Most seen artists",
      entityName = "Artist",
      valueUnit = "Count",
      statistics.mostSeenConcertArtists(mainMusiciansOnly = false),
      threshold = Some(6),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val pieChart = PieChart(
      baseId = "most-seen-concert-artists-main-musicians-only",
      title = "Most seen artists (main musicians only)",
      entityName = "Artist",
      valueUnit = "Count",
      statistics.mostSeenConcertArtists(mainMusiciansOnly = true),
      threshold = Some(4),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val pieChart = PieChart(
      baseId = "most-visited-concert-venues",
      title = "Most visited concert venues",
      entityName = "Concert venue",
      valueUnit = "Count",
      statistics.mostVisitedConcertVenues,
      threshold = Some(3),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  <p>Note: venues are counted at most once per day.</p>

  @{
    val barChart = BarChart(
      baseId = "concert-ratings-distribution",
      title = "Concert ratings (distribution)",
      datasetLabel = "Count",
      statistics.concertRatingsDistribution)

    views.html.barchartsection(barChart)
  }

  <div class="headline"><h2>Movies</h2></div>

  @{
    val pieChart = PieChart(
      baseId = "most-seen-movies",
      title = "Most seen movies",
      entityName = "Movie",
      valueUnit = "Count",
      statistics.mostSeenMovies,
      threshold = Some(2),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val pieChart = PieChart(
      baseId = "most-seen-movie-directors",
      title = "Most seen directors",
      entityName = "Director",
      valueUnit = "Count",
      statistics.mostSeenMovieDirectors,
      threshold = Some(4),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val barChart = BarChart(
      baseId = "movie-ratings-distribution",
      title = "Movie ratings (distribution)",
      datasetLabel = "Count",
      statistics.movieRatingsDistribution)

    views.html.barchartsection(barChart)
  }

  <div class="headline"><h2>Plays</h2></div>

  @{
    val pieChart = PieChart(
      baseId = "most-seen-play-authors",
      title = "Most seen authors",
      entityName = "Author",
      valueUnit = "Count",
      statistics.mostSeenPlayAuthors,
      threshold = Some(2),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val pieChart = PieChart(
      baseId = "most-seen-play-directors",
      title = "Most seen directors",
      entityName = "Director",
      valueUnit = "Count",
      statistics.mostSeenPlayDirectors,
      threshold = Some(2),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val pieChart = PieChart(
      baseId = "most-seen-play-actors",
      title = "Most seen actors",
      entityName = "Actor",
      valueUnit = "Count",
      statistics.mostSeenPlayActors,
      threshold = Some(3),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val pieChart = PieChart(
      baseId = "most-visited-play-theatres",
      title = "Most visited theatres",
      entityName = "Theatre",
      valueUnit = "Count",
      statistics.mostVisitedPlayTheatre,
      threshold = Some(2),
      maxValueCount = Some(17))

    views.html.piechartsection(pieChart)
  }

  @{
    val barChart = BarChart(
      baseId = "play-ratings-distribution",
      title = "Play ratings (distribution)",
      datasetLabel = "Count",
      statistics.playRatingsDistribution)

    views.html.barchartsection(barChart)
  }
}
