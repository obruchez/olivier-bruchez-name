@import models.statistics.{ PieChart, Statistics }
@(statistics: Statistics)

@scripts = {
  <script type="text/javascript" src="@routes.Assets.at("plugins/moment.min.js")"></script>
  <script type="text/javascript" src="@routes.Assets.at("plugins/chart.min.js")"></script>
}

@main(Sitemap.statistics, scripts) {
  <div class="headline"><h2>Concerts</h2></div>

  @{
    val pieChart = PieChart(
      id = "chart-most-seen-artists",
      anchor = "most-seen-artists",
      title = "Most seen artists",
      entityName = "Artist",
      valueUnit = "Count",
      statistics.mostSeenArtists(mainMusiciansOnly = false),
      threshold = Some(6))

    views.html.tablepiechart(pieChart)
  }

  @{
    val pieChart = PieChart(
      id = "chart-most-seen-artists-main-musicians-only",
      anchor = "most-seen-artists-main-musicians-only",
      title = "Most seen artists (main musicians only)",
      entityName = "Artist",
      valueUnit = "Count",
      statistics.mostSeenArtists(mainMusiciansOnly = true),
      threshold = Some(4))

    views.html.tablepiechart(pieChart)
  }

  @{
    val pieChart = PieChart(
      id = "chart-most-visited-concert-venues",
      anchor = "most-visited-concert-venues",
      title = "Most visited concert venues",
      entityName = "Concert venues",
      valueUnit = "Count",
      statistics.mostVisitedConcertVenues(),
      threshold = Some(3))

    views.html.tablepiechart(pieChart)
  }

  <p>Note: venues are counted at most once per day.</p>
}
